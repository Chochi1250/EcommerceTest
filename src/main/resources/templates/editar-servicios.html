<html xmlns:th="http://www.thymeleaf.org" lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Editar Servicio</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body class="d-flex flex-column h-100">
    <main class="flex-shrink-0">
        <!-- Page Content-->
        <section layout:fragment="body" class="py-5">
            <div class="container">
                <!-- Formulario de edición de servicio -->
                <form role="form" method="post" th:action="@{/editar/{servicioTitulo}(servicioTitulo=${servicio.titulo})}" th:object="${servicio}">
                    
                    <!-- Campo de Título (solo lectura) -->
                    <div class="form-group row mb-3">
                        <label for="titulo" class="col-sm-2 col-form-label">Nombre</label>
                        <div class="col-sm-10">
                            <input 
                                type="text" 
                                class="form-control" 
                                id="titulo" 
                                name="titulo"
                                th:field="*{titulo}"
                                placeholder="Nombre de tu servicio"
                                readonly />
                        </div>
                    </div>
                    
                    <!-- Campo de Descripción -->
                    <div class="form-group row mb-3">
                        <label for="descripcion" class="col-sm-2 col-form-label">Descripción</label>
                        <div class="col-sm-10">
                            <input 
                                type="text" 
                                class="form-control" 
                                id="descripcion" 
                                name="descripcion"
                                th:field="*{descripcion}"
                                placeholder="Descripción de tu servicio" />
                            <p th:if="${#fields.hasErrors('descripcion')}" class="text-danger" th:errors="*{descripcion}">Error</p>
                        </div>
                    </div>
                
                    <!-- Campo de Precio -->
                    <div class="form-group row mb-3">
                        <label for="precio" class="col-sm-2 col-form-label">Precio</label>
                        <div class="col-sm-10">
                            <input 
                                type="number" 
                                class="form-control" 
                                id="precio" 
                                name="precio"
                                th:field="*{precio}"
                                placeholder="Precio" />
                            <p th:if="${#fields.hasErrors('precio')}" class="text-danger" th:errors="*{precio}">Error</p>
                        </div>
                    </div>
                
                    <!-- Campo de Foto -->
                    <div class="form-group row mb-3">
                        <label for="photoUrl" class="col-sm-2 col-form-label">Foto</label>
                        <div class="col-sm-10">
                            <input 
                                type="text" 
                                class="form-control" 
                                id="photoUrl" 
                                name="photoUrl"
                                th:field="*{photoUrl}" 
                                placeholder="URL de la foto" />
                            <p th:if="${#fields.hasErrors('photoUrl')}" class="text-danger" th:errors="*{photoUrl}">Error</p>
                        </div>
                    </div>
                
                    <!-- Campo de Estado del Servicio -->
                    <div class="form-group row mb-3">
                        <label for="estadoServicio" class="col-sm-2 col-form-label">Estado</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="estadoServicio" name="estadoServicio" th:field="*{estadoServicio}">
                                <option value="Disponible" th:selected="${servicio.estadoServicio == 'Disponible'}">Disponible</option>
                                <option value="NoDisponible" th:selected="${servicio.estadoServicio == 'NoDisponible'}">No Disponible</option>
                            </select>
                        </div>
                    </div>
                
                    <!-- Campo de Fecha de Creación (solo lectura) -->
                    <div class="form-group row mb-3">
                        <label for="fechaCreacion" class="col-sm-2 col-form-label">Fecha de Creación</label>
                        <div class="col-sm-10">
                            <input 
                                type="date" 
                                class="form-control" 
                                id="fechaCreacion" 
                                name="fechaCreacion"
                                th:field="*{fechaCreacion}"
                                readonly />
                        </div>
                    </div>
                
                    <!-- Campo de Duración en Días -->
                    <div class="form-group row mb-3">
                        <label for="duracionDias" class="col-sm-2 col-form-label">Duración (días)</label>
                        <div class="col-sm-10">
                            <input 
                                type="number" 
                                class="form-control" 
                                id="duracionDias" 
                                name="duracionDias"
                                th:field="*{duracionDias}"
                                placeholder="Duración en días" />
                            <p th:if="${#fields.hasErrors('duracionDias')}" class="text-danger" th:errors="*{duracionDias}">Error</p>
                        </div>
                    </div>
                
                    <!-- Botón de Actualización -->
                    <div class="form-group row">
                        <div class="col-sm-10">
                            <button type="submit" class="btn btn-primary">Actualizar y Volver al Perfil</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>             
    </main>          
</body>
</html>
